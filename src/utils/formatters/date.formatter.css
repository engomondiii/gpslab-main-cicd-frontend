/**
 * GPS Lab Platform - Date Formatter Styles
 * 
 * CSS classes for date/time display components that use the date formatter utilities.
 * These classes provide consistent visual styling for temporal data across the platform.
 * 
 * @module utils/formatters/date.formatter.css
 * @version 1.0.0
 */

/* =============================================================================
   BASE DATE DISPLAY STYLES
   ============================================================================= */

/**
 * Base class for date display elements
 */
.date-display {
  font-family: var(--font-family-primary, 'Inter', sans-serif);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-secondary, #6b7280);
  line-height: var(--line-height-normal, 1.5);
}

/**
 * Primary date display (more prominent)
 */
.date-display--primary {
  font-size: var(--font-size-base, 1rem);
  color: var(--color-text-primary, #111827);
  font-weight: var(--font-weight-medium, 500);
}

/**
 * Large date display for headers
 */
.date-display--large {
  font-size: var(--font-size-lg, 1.125rem);
  font-weight: var(--font-weight-semibold, 600);
}

/**
 * Small date display for compact views
 */
.date-display--small {
  font-size: var(--font-size-xs, 0.75rem);
}

/* =============================================================================
   RELATIVE TIME STYLES
   ============================================================================= */

/**
 * Relative time display (e.g., "2 hours ago")
 */
.relative-time {
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-muted, #9ca3af);
  font-style: italic;
}

/**
 * Relative time with icon
 */
.relative-time--with-icon {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
}

.relative-time--with-icon::before {
  content: '';
  display: inline-block;
  width: 14px;
  height: 14px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

/* =============================================================================
   DEADLINE STYLES
   ============================================================================= */

/**
 * Base deadline display
 */
.deadline {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  padding: var(--spacing-xs, 0.25rem) var(--spacing-sm, 0.5rem);
  border-radius: var(--border-radius-sm, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
  font-weight: var(--font-weight-medium, 500);
}

/**
 * Normal deadline (plenty of time)
 */
.deadline--normal {
  background-color: var(--color-success-bg, #ecfdf5);
  color: var(--color-success, #059669);
}

/**
 * Warning deadline (getting close)
 */
.deadline--warning {
  background-color: var(--color-warning-bg, #fffbeb);
  color: var(--color-warning, #d97706);
}

/**
 * Urgent deadline (very close)
 */
.deadline--urgent {
  background-color: var(--color-warning-bg, #fffbeb);
  color: var(--color-warning-dark, #b45309);
  animation: deadline-pulse 2s ease-in-out infinite;
}

/**
 * Critical deadline (hours away)
 */
.deadline--critical {
  background-color: var(--color-danger-bg, #fef2f2);
  color: var(--color-danger, #dc2626);
  animation: deadline-pulse 1s ease-in-out infinite;
}

/**
 * Overdue deadline
 */
.deadline--overdue {
  background-color: var(--color-danger, #dc2626);
  color: var(--color-white, #ffffff);
  animation: deadline-shake 0.5s ease-in-out;
}

/**
 * Deadline pulse animation
 */
@keyframes deadline-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/**
 * Deadline shake animation
 */
@keyframes deadline-shake {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-2px);
  }
  75% {
    transform: translateX(2px);
  }
}

/**
 * Deadline icon
 */
.deadline__icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

/**
 * Deadline text
 */
.deadline__text {
  white-space: nowrap;
}

/* =============================================================================
   DURATION STYLES
   ============================================================================= */

/**
 * Duration display
 */
.duration {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-secondary, #6b7280);
  font-variant-numeric: tabular-nums;
}

/**
 * Duration with progress indicator
 */
.duration--with-progress {
  flex-direction: column;
  align-items: flex-start;
  gap: var(--spacing-2xs, 0.125rem);
}

/**
 * Duration progress bar container
 */
.duration__progress {
  width: 100%;
  height: 4px;
  background-color: var(--color-gray-200, #e5e7eb);
  border-radius: var(--border-radius-full, 9999px);
  overflow: hidden;
}

/**
 * Duration progress bar fill
 */
.duration__progress-fill {
  height: 100%;
  background-color: var(--color-primary, #2563eb);
  border-radius: var(--border-radius-full, 9999px);
  transition: width var(--transition-normal, 300ms) ease-out;
}

/**
 * Study time display (for study loop tracking)
 */
.study-time {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm, 0.5rem);
  padding: var(--spacing-xs, 0.25rem) var(--spacing-sm, 0.5rem);
  background-color: var(--color-indigo-50, #eef2ff);
  color: var(--color-indigo-700, #4338ca);
  border-radius: var(--border-radius-md, 0.375rem);
  font-size: var(--font-size-sm, 0.875rem);
  font-weight: var(--font-weight-medium, 500);
}

.study-time__icon {
  width: 16px;
  height: 16px;
}

/* =============================================================================
   pR2R EXPIRATION STYLES
   ============================================================================= */

/**
 * pR2R expiration countdown
 */
.pr2r-expiration {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm, 0.5rem);
  padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 0.75rem);
  border-radius: var(--border-radius-md, 0.375rem);
  font-size: var(--font-size-sm, 0.875rem);
}

/**
 * pR2R active (plenty of time)
 */
.pr2r-expiration--active {
  background-color: var(--color-green-50, #f0fdf4);
  border: 1px solid var(--color-green-200, #bbf7d0);
  color: var(--color-green-700, #15803d);
}

/**
 * pR2R warning (running out)
 */
.pr2r-expiration--warning {
  background-color: var(--color-yellow-50, #fefce8);
  border: 1px solid var(--color-yellow-300, #fde047);
  color: var(--color-yellow-700, #a16207);
}

/**
 * pR2R critical (about to expire)
 */
.pr2r-expiration--critical {
  background-color: var(--color-red-50, #fef2f2);
  border: 1px solid var(--color-red-200, #fecaca);
  color: var(--color-red-700, #b91c1c);
  animation: pr2r-pulse 1.5s ease-in-out infinite;
}

/**
 * pR2R expired
 */
.pr2r-expiration--expired {
  background-color: var(--color-gray-100, #f3f4f6);
  border: 1px solid var(--color-gray-300, #d1d5db);
  color: var(--color-gray-500, #6b7280);
  text-decoration: line-through;
}

@keyframes pr2r-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0);
  }
}

.pr2r-expiration__label {
  font-weight: var(--font-weight-medium, 500);
}

.pr2r-expiration__countdown {
  font-variant-numeric: tabular-nums;
  font-weight: var(--font-weight-bold, 700);
}

/* =============================================================================
   SUBSCRIPTION PERIOD STYLES
   ============================================================================= */

/**
 * Subscription period display
 */
.subscription-period {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-sm, 0.5rem);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-secondary, #6b7280);
}

.subscription-period__separator {
  color: var(--color-gray-400, #9ca3af);
}

/**
 * Subscription period active
 */
.subscription-period--active {
  color: var(--color-success, #059669);
}

/**
 * Subscription period expiring soon
 */
.subscription-period--expiring {
  color: var(--color-warning, #d97706);
}

/* =============================================================================
   COMPLETION DATE STYLES
   ============================================================================= */

/**
 * Completion date for portfolio/achievements
 */
.completion-date {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-muted, #9ca3af);
}

.completion-date__icon {
  width: 14px;
  height: 14px;
  color: var(--color-success, #059669);
}

.completion-date__text {
  font-style: italic;
}

/* =============================================================================
   TIME SPAN STYLES (For Missions/Bites)
   ============================================================================= */

/**
 * Time span indicator
 */
.time-span {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  padding: var(--spacing-2xs, 0.125rem) var(--spacing-xs, 0.25rem);
  background-color: var(--color-gray-100, #f3f4f6);
  border-radius: var(--border-radius-sm, 0.25rem);
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-text-secondary, #6b7280);
}

.time-span__icon {
  width: 12px;
  height: 12px;
}

/* =============================================================================
   CALENDAR DATE STYLES
   ============================================================================= */

/**
 * Calendar date display (for scheduling)
 */
.calendar-date {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm, 0.5rem);
  min-width: 48px;
  border-radius: var(--border-radius-md, 0.375rem);
  background-color: var(--color-gray-50, #f9fafb);
  text-align: center;
}

.calendar-date--today {
  background-color: var(--color-primary, #2563eb);
  color: var(--color-white, #ffffff);
}

.calendar-date--selected {
  background-color: var(--color-primary-light, #dbeafe);
  border: 2px solid var(--color-primary, #2563eb);
}

.calendar-date__day {
  font-size: var(--font-size-lg, 1.125rem);
  font-weight: var(--font-weight-bold, 700);
  line-height: 1;
}

.calendar-date__month {
  font-size: var(--font-size-xs, 0.75rem);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: var(--spacing-2xs, 0.125rem);
}

.calendar-date__weekday {
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-text-muted, #9ca3af);
  margin-top: var(--spacing-2xs, 0.125rem);
}

/* =============================================================================
   TIMESTAMP STYLES
   ============================================================================= */

/**
 * Timestamp display (for activity feeds, logs)
 */
.timestamp {
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-text-muted, #9ca3af);
  font-variant-numeric: tabular-nums;
}

.timestamp--inline {
  display: inline;
}

.timestamp--block {
  display: block;
  margin-top: var(--spacing-2xs, 0.125rem);
}

/* =============================================================================
   LOCALE-SPECIFIC STYLES
   ============================================================================= */

/**
 * Korean date display
 */
[lang="ko"] .date-display,
.date-display--ko {
  font-family: var(--font-family-korean, 'Noto Sans KR', sans-serif);
}

/**
 * Swahili date display
 */
[lang="sw"] .date-display,
.date-display--sw {
  font-family: var(--font-family-primary, 'Inter', sans-serif);
}

/* =============================================================================
   DARK THEME OVERRIDES
   ============================================================================= */

[data-theme="dark"] .date-display {
  color: var(--color-dark-text-secondary, #9ca3af);
}

[data-theme="dark"] .date-display--primary {
  color: var(--color-dark-text-primary, #f3f4f6);
}

[data-theme="dark"] .relative-time {
  color: var(--color-dark-text-muted, #6b7280);
}

[data-theme="dark"] .deadline--normal {
  background-color: var(--color-dark-success-bg, rgba(5, 150, 105, 0.1));
}

[data-theme="dark"] .deadline--warning {
  background-color: var(--color-dark-warning-bg, rgba(217, 119, 6, 0.1));
}

[data-theme="dark"] .deadline--critical,
[data-theme="dark"] .deadline--urgent {
  background-color: var(--color-dark-danger-bg, rgba(220, 38, 38, 0.1));
}

[data-theme="dark"] .duration__progress {
  background-color: var(--color-dark-gray-700, #374151);
}

[data-theme="dark"] .study-time {
  background-color: rgba(99, 102, 241, 0.1);
}

[data-theme="dark"] .calendar-date {
  background-color: var(--color-dark-gray-800, #1f2937);
}

[data-theme="dark"] .time-span {
  background-color: var(--color-dark-gray-700, #374151);
}

/* =============================================================================
   HIGH CONTRAST THEME OVERRIDES
   ============================================================================= */

[data-theme="high-contrast"] .deadline {
  border: 2px solid currentColor;
}

[data-theme="high-contrast"] .deadline--overdue {
  background-color: var(--color-hc-danger, #ff0000);
  border-color: var(--color-hc-danger, #ff0000);
}

[data-theme="high-contrast"] .pr2r-expiration {
  border-width: 2px;
}

/* =============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================= */

@media (max-width: 640px) {
  .date-display--large {
    font-size: var(--font-size-base, 1rem);
  }
  
  .deadline {
    padding: var(--spacing-2xs, 0.125rem) var(--spacing-xs, 0.25rem);
    font-size: var(--font-size-xs, 0.75rem);
  }
  
  .pr2r-expiration {
    padding: var(--spacing-xs, 0.25rem) var(--spacing-sm, 0.5rem);
    font-size: var(--font-size-xs, 0.75rem);
  }
  
  .calendar-date {
    min-width: 40px;
    padding: var(--spacing-xs, 0.25rem);
  }
  
  .calendar-date__day {
    font-size: var(--font-size-base, 1rem);
  }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
  .deadline,
  .pr2r-expiration {
    background-color: transparent !important;
    border: 1px solid currentColor !important;
    animation: none !important;
  }
  
  .timestamp {
    color: #000000 !important;
  }
}