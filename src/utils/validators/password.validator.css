/**
 * GPS Lab Platform - Password Validator Styles
 * 
 * CSS classes for password validation UI components including
 * strength indicators, requirement checklists, and input states.
 * 
 * @module utils/validators/password.validator.css
 * @version 1.0.0
 */

/* =============================================================================
   PASSWORD INPUT BASE STYLES
   ============================================================================= */

/**
 * Password input container
 */
.password-input-container {
  position: relative;
  width: 100%;
}

/**
 * Base password input styling
 */
.password-input {
  width: 100%;
  padding: var(--spacing-sm, 0.5rem) var(--spacing-md, 0.75rem);
  padding-right: 80px; /* Space for toggle and status */
  font-size: var(--font-size-base, 1rem);
  font-family: var(--font-family-primary, 'Inter', sans-serif);
  color: var(--color-text-primary, #111827);
  background-color: var(--color-white, #ffffff);
  border: 1px solid var(--color-gray-300, #d1d5db);
  border-radius: var(--border-radius-md, 0.375rem);
  outline: none;
  transition: all var(--transition-fast, 150ms) ease;
}

.password-input::placeholder {
  color: var(--color-gray-400, #9ca3af);
}

.password-input:focus {
  border-color: var(--color-primary, #2563eb);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/**
 * Password visibility toggle button
 */
.password-toggle {
  position: absolute;
  right: 36px;
  top: 50%;
  transform: translateY(-50%);
  padding: var(--spacing-xs, 0.25rem);
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-gray-500, #6b7280);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color var(--transition-fast, 150ms) ease;
}

.password-toggle:hover {
  color: var(--color-gray-700, #374151);
}

.password-toggle__icon {
  width: 20px;
  height: 20px;
}

/* =============================================================================
   VALIDATION STATES
   ============================================================================= */

/**
 * Valid password state
 */
.password-input--valid {
  border-color: var(--color-success, #059669);
}

.password-input--valid:focus {
  border-color: var(--color-success, #059669);
  box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
}

/**
 * Invalid password state
 */
.password-input--invalid {
  border-color: var(--color-danger, #dc2626);
}

.password-input--invalid:focus {
  border-color: var(--color-danger, #dc2626);
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}

/**
 * Password status icon
 */
.password-status {
  position: absolute;
  right: var(--spacing-sm, 0.5rem);
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.password-status--valid {
  color: var(--color-success, #059669);
}

.password-status--invalid {
  color: var(--color-danger, #dc2626);
}

/* =============================================================================
   PASSWORD STRENGTH INDICATOR
   ============================================================================= */

/**
 * Strength meter container
 */
.password-strength {
  margin-top: var(--spacing-sm, 0.5rem);
}

/**
 * Strength meter bar container
 */
.password-strength__bar {
  display: flex;
  gap: var(--spacing-xs, 0.25rem);
  height: 4px;
  margin-bottom: var(--spacing-xs, 0.25rem);
}

/**
 * Individual strength segment
 */
.password-strength__segment {
  flex: 1;
  height: 100%;
  background-color: var(--color-gray-200, #e5e7eb);
  border-radius: var(--border-radius-full, 9999px);
  transition: background-color var(--transition-normal, 300ms) ease;
}

.password-strength__segment--active {
  background-color: var(--strength-color, var(--color-gray-400, #9ca3af));
}

/* Strength level colors */
.password-strength--very-weak .password-strength__segment--active {
  background-color: var(--color-danger, #dc2626);
}

.password-strength--weak .password-strength__segment--active {
  background-color: var(--color-orange-500, #f97316);
}

.password-strength--fair .password-strength__segment--active {
  background-color: var(--color-yellow-500, #eab308);
}

.password-strength--strong .password-strength__segment--active {
  background-color: var(--color-green-500, #22c55e);
}

.password-strength--very-strong .password-strength__segment--active {
  background-color: var(--color-success, #059669);
}

/**
 * Strength label
 */
.password-strength__label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--font-size-sm, 0.875rem);
}

.password-strength__text {
  font-weight: var(--font-weight-medium, 500);
}

.password-strength--very-weak .password-strength__text {
  color: var(--color-danger, #dc2626);
}

.password-strength--weak .password-strength__text {
  color: var(--color-orange-600, #ea580c);
}

.password-strength--fair .password-strength__text {
  color: var(--color-yellow-600, #ca8a04);
}

.password-strength--strong .password-strength__text {
  color: var(--color-green-600, #16a34a);
}

.password-strength--very-strong .password-strength__text {
  color: var(--color-success, #059669);
}

.password-strength__time {
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-text-muted, #9ca3af);
}

/* =============================================================================
   REQUIREMENTS CHECKLIST
   ============================================================================= */

/**
 * Requirements container
 */
.password-requirements {
  margin-top: var(--spacing-sm, 0.5rem);
  padding: var(--spacing-sm, 0.5rem);
  background-color: var(--color-gray-50, #f9fafb);
  border-radius: var(--border-radius-md, 0.375rem);
}

.password-requirements__title {
  font-size: var(--font-size-xs, 0.75rem);
  font-weight: var(--font-weight-medium, 500);
  color: var(--color-text-secondary, #6b7280);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--spacing-xs, 0.25rem);
}

.password-requirements__list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2xs, 0.125rem);
  list-style: none;
  padding: 0;
  margin: 0;
}

/**
 * Requirement item
 */
.password-requirement {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-text-secondary, #6b7280);
  transition: color var(--transition-fast, 150ms) ease;
}

.password-requirement__icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  border-radius: var(--border-radius-full, 9999px);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast, 150ms) ease;
}

/* Unchecked state */
.password-requirement--unchecked .password-requirement__icon {
  background-color: var(--color-gray-200, #e5e7eb);
  color: transparent;
}

/* Checked state */
.password-requirement--checked {
  color: var(--color-success, #059669);
}

.password-requirement--checked .password-requirement__icon {
  background-color: var(--color-success, #059669);
  color: var(--color-white, #ffffff);
}

.password-requirement--checked .password-requirement__icon::before {
  content: '';
  width: 8px;
  height: 8px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='white'%3E%3Cpath fill-rule='evenodd' d='M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z' clip-rule='evenodd'/%3E%3C/svg%3E");
  background-size: contain;
}

/* Animation for check */
.password-requirement--checked .password-requirement__icon {
  animation: requirement-check 0.3s ease-out;
}

@keyframes requirement-check {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.password-requirement__text {
  text-decoration: none;
  transition: text-decoration var(--transition-fast, 150ms) ease;
}

.password-requirement--checked .password-requirement__text {
  text-decoration: line-through;
  text-decoration-color: var(--color-success-light, #34d399);
}

/* =============================================================================
   PASSWORD MATCH INDICATOR
   ============================================================================= */

/**
 * Password match container
 */
.password-match {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  margin-top: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
}

.password-match__icon {
  width: 14px;
  height: 14px;
}

.password-match--matching {
  color: var(--color-success, #059669);
}

.password-match--not-matching {
  color: var(--color-danger, #dc2626);
}

/* =============================================================================
   ERROR MESSAGES
   ============================================================================= */

/**
 * Password error container
 */
.password-errors {
  margin-top: var(--spacing-xs, 0.25rem);
}

.password-error {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-sm, 0.875rem);
  color: var(--color-danger, #dc2626);
  animation: error-slide 0.2s ease-out;
}

.password-error__icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  margin-top: 2px;
}

@keyframes error-slide {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =============================================================================
   FEEDBACK MESSAGES
   ============================================================================= */

/**
 * Strength feedback list
 */
.password-feedback {
  margin-top: var(--spacing-xs, 0.25rem);
}

.password-feedback__item {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-warning, #d97706);
  padding: var(--spacing-2xs, 0.125rem) 0;
}

.password-feedback__icon {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
  margin-top: 1px;
}

/* =============================================================================
   ENTROPY DISPLAY
   ============================================================================= */

/**
 * Entropy information display
 */
.password-entropy {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm, 0.5rem);
  margin-top: var(--spacing-xs, 0.25rem);
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-text-muted, #9ca3af);
}

.password-entropy__value {
  font-family: var(--font-family-mono, 'Roboto Mono', monospace);
  font-weight: var(--font-weight-medium, 500);
}

.password-entropy__label {
  color: var(--color-text-secondary, #6b7280);
}

/* =============================================================================
   DARK THEME OVERRIDES
   ============================================================================= */

[data-theme="dark"] .password-input {
  background-color: var(--color-dark-gray-800, #1f2937);
  border-color: var(--color-dark-gray-600, #4b5563);
  color: var(--color-dark-text-primary, #f3f4f6);
}

[data-theme="dark"] .password-input::placeholder {
  color: var(--color-dark-text-muted, #6b7280);
}

[data-theme="dark"] .password-toggle {
  color: var(--color-dark-text-secondary, #9ca3af);
}

[data-theme="dark"] .password-toggle:hover {
  color: var(--color-dark-text-primary, #f3f4f6);
}

[data-theme="dark"] .password-requirements {
  background-color: var(--color-dark-gray-800, #1f2937);
}

[data-theme="dark"] .password-requirement--unchecked .password-requirement__icon {
  background-color: var(--color-dark-gray-600, #4b5563);
}

[data-theme="dark"] .password-strength__bar {
  background-color: var(--color-dark-gray-700, #374151);
}

[data-theme="dark"] .password-strength__segment {
  background-color: var(--color-dark-gray-600, #4b5563);
}

/* =============================================================================
   HIGH CONTRAST THEME OVERRIDES
   ============================================================================= */

[data-theme="high-contrast"] .password-input {
  border-width: 2px;
}

[data-theme="high-contrast"] .password-strength__segment {
  border: 1px solid var(--color-hc-border, #000000);
}

[data-theme="high-contrast"] .password-requirement__icon {
  border: 1px solid currentColor;
}

/* =============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================= */

@media (max-width: 640px) {
  .password-requirements {
    padding: var(--spacing-xs, 0.25rem);
  }
  
  .password-requirements__list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-2xs, 0.125rem);
  }
  
  .password-requirement {
    font-size: var(--font-size-xs, 0.75rem);
  }
}

/* =============================================================================
   ANIMATION UTILITIES
   ============================================================================= */

/**
 * Strength change animation
 */
.password-strength--animating .password-strength__segment--active {
  animation: strength-fill 0.3s ease-out;
}

@keyframes strength-fill {
  from {
    transform: scaleX(0);
    transform-origin: left;
  }
  to {
    transform: scaleX(1);
    transform-origin: left;
  }
}

/**
 * Password reveal animation
 */
.password-input--revealing {
  animation: password-reveal 0.2s ease-out;
}

@keyframes password-reveal {
  0% {
    letter-spacing: 0.2em;
    opacity: 0.5;
  }
  100% {
    letter-spacing: normal;
    opacity: 1;
  }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
  .password-toggle,
  .password-status,
  .password-strength,
  .password-requirements {
    display: none !important;
  }
  
  .password-input {
    border: 1px solid #000000 !important;
    background: none !important;
  }
}